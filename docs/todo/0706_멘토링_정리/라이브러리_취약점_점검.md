# ë¼ì´ë¸ŒëŸ¬ë¦¬ ì·¨ì•½ì  ì ê²€

ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ìš°ë¦¬ê°€ ë§Œë“  ì½”ë“œê°€ ì•„ë‹ˆë‹¤.  

ì˜¤í”ˆì†ŒìŠ¤ëŠ” ê³µê°œë˜ì–´ ìˆê³ , í•´ì»¤ë„ ì½”ë“œë¥¼ ë³¸ë‹¤.

í•œ ë²ˆ ì·¨ì•½ì (CVE)ì´ ë°œê²¬ë˜ë©´ ì „ ì„¸ê³„ì ìœ¼ë¡œ ëš«ë¦¬ê²Œ ë˜ê³ , ë§Œì•½ íšŒì‚¬ì—ì„œ ì“°ëŠ” ë²„ì „ì´ êµ¬ë²„ì „ì´ë¼ë©´ ì„œë¹„ìŠ¤ê°€ ëš«ë¦¬ê²Œ ë  ê²ƒì´ë‹¤.

ì‹¤ì œ ë³´ì•ˆ ì‚¬ê³ ì˜ ëŒ€ë¶€ë¶„ì€ ì„œë“œíŒŒí‹° ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ë°œìƒí•œë‹¤ê³  í•œë‹¤.

## ë¡œê·¸ ì°ë‹¤ ì„œë²„ í„¸ë ¤ ë‚˜ë½í–‰ - Log4j (CVE-2021-44228) ì‚¬íƒœ

2021ë…„ 11ì›”ì— Log4 Shellì´ë¼ê³ ë„ ì•Œë ¤ì§„ Log4j ì·¨ì•½ì ì´ ì´ìŠˆì˜€ë‹¤.

Apache Log4j ë¡œê¹… ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ë°œê²¬ëœ ë§¤ìš° ì‹¬ê°í•œ ì·¨ì•½ì  ì¸ë°,  

í•´ì»¤ì—ê²Œ íŒ¨ì¹˜ë˜ì§€ ì•Šì€ ë²„ì „ì˜ Log4jë¥¼ ì‹¤í–‰í•˜ëŠ” ë””ë°”ì´ìŠ¤ë¥¼ ì™„ì „íˆ ì œì–´í•  ìˆ˜ ìˆëŠ” ê¶Œí•œì„ ë¶€ì—¬í–ˆë‹¤.

ì´ ì·¨ì•½ì ì€ ì›ê²© ì½”ë“œ ì‹¤í–‰(RCE) ì·¨ì•½ì ìœ¼ë¡œ, í•´ì»¤ê°€ ì´ ì·¨ì•½ì ì„ ì´ìš©í•´ ì„œë²„ì— ì•…ì„± ì½”ë“œë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆì—ˆë‹¤. ( ëŒ€-ë°• ;;)

ì´ë¡œ ì¸í•´ ì „ ì„¸ê³„ì ìœ¼ë¡œ ìˆ˜ë§ì€ ì„œë¹„ìŠ¤ê°€ ì˜í–¥ì„ ë°›ì•˜ê³ , ë§ì€ ê¸°ì—…ë“¤ì´ ê¸´ê¸‰í•˜ê²Œ íŒ¨ì¹˜ë¥¼ ì ìš©í•´ì•¼ í–ˆë‹¤.

í”¼í•´ë¥¼ ì…ì€ ê¸°ì—…ë“¤ ë‚´ì— ê°œë°œìë“¤ ì§„ì§œ ìœ„ë¡œ ë§ˆë ¤ì› ë‹¤. 

ìš°ë¦¬ê°€ ì˜ ì•„ëŠ” ë¨¸ê¸°ì—… ì¤‘ Minecraft, Twitter, Cisco, AWS, ê±°ì˜ ì „ì„¸ê³„ ì›¹ì„œë¹„ìŠ¤ ê´‘ì—­ ìœ¼ë¡œ ì˜í–¥ì„ ë°›ì•˜ë‹¤ëŠ” ì‚¬ì‹¤.

- 2021ë…„ 12ì›”ì—” ë¶„ë‹¹ 100ê±´ ì´ìƒ ê³µê²©
- ë´‡ë„·, í¬ë¦½í† ë§ˆì´ë„ˆ, ëœì„¬ì›¨ì–´, êµ­ê°€ë‹¨ìœ„ í•´ì»¤ê¹Œì§€ ì´ ì§‘í•©
- ë¯¸ êµ­í† ì•ˆë³´ë¶€: â€œì´ê±° ê³ ì¹˜ëŠ” ë° 10ë…„ ê±¸ë¦´ ìˆ˜ë„â€

ì˜¤í”ˆì†ŒìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì·¨ì•½ì ì´ ì–¼ë§ˆë‚˜ ì‹¬ê°í•œ ì˜í–¥ì„ ë¯¸ì¹  ìˆ˜ ìˆëŠ”ì§€ë¥¼ ì˜ ë³´ì—¬ì£¼ëŠ” ì‚¬ë¡€ì„ì„ ì•Œ ìˆ˜ ìˆë‹¤.

> ì‚¬ì‹¤ìƒ ì´ëŸ° ì„¤ì •ì„ í•´ë³´ëŠ” ê²ƒì€ ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ê°€ ì•„ë‹ˆê³ ì„œì•¼ ... í•´ë³¼ì¼ì´ ì—†ì„ê²ƒ ê°™ê¸´ í•˜ë‹¤.
> 
> ë‚˜ì˜ ìµœì•  true ë©˜í† ë‹˜ ê»˜ì„œ ì´ëŸ° ë¶€ë¶„ì„ ë§ì”€ ì£¼ì…¨ê³ ,   
> ì‚¬ì´ë“œ í”„ë¡œì íŠ¸ì— ì ìš©ì„ ìœ„í•´ ê²€ìƒ‰ì„ í•˜ë‹¤ ë³´ë‹ˆ 2ê°€ì§€ ë°©ì‹ì´ ì¡´ì¬í•œë‹¤. 

## ëª©ì 
- ì™¸ë¶€ ì˜¤í”ˆì†ŒìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì·¨ì•½ì (CVE) ì‚¬ì „ íƒì§€
- ë³´ì•ˆ ì´ìŠˆ ìë™ ê°ì§€ ë° ëŒ€ì‘ ìë™í™” ( Dependabot )
- ë³´ì•ˆ ì•ˆì •ì„± í™•ë³´

> ê°€ë³´ìê³ .
---

## ì ìš© ë°©ì‹
ì ìš© í•˜ëŠ” ë°©ì‹ì€ í¬ê²Œ 2ê°€ì§€ê°€ ìˆë‹¤.

1. GitHub Actions ê¸°ë°˜ì˜ Dependabot
2. ë¡œì»¬/CI ê¸°ë°˜ì˜ OWASP Dependency Check

### ì²«ë²ˆì§¸ ë°©ì‹ :`.github/dependabot.yml` ì¶”ê°€

```yaml
version: 2
updates:
  - package-ecosystem: "gradle"
    directory: "/"  # ë£¨íŠ¸ gradle ê¸°ì¤€
    schedule:
      interval: "daily"
```

### GitHub Security ì„¤ì • í™•ì¸
> ë¦¬í¬ì§€í† ë¦¬ â†’ Settings > Security í•­ëª©ì—ì„œ ì•„ë˜ 2ê°œ ì„¤ì •ì´ Enabled ë˜ì–´ ìˆì–´ì•¼ í•œë‹¤.
> - Security advisories
> - Dependabot alerts

![img_1.png](img_1.png)

>? ì‘ ?? í•˜ë‚˜ë°–ì— ì•ˆì¼œì ¸ìˆã„·êµ°ìš”...
> Advanced Security ì—ì„œ ì¼œì£¼ë©´ ë ê²ƒ ê°™ë‹¤.

![img_3.png](img_3.png)

### pr í™•ì¸
![img_2.png](img_2.png)
> ì˜¤... ì¬ë°Œì–´. ì§œë¦¿í•´. ê°œë©‹ì ¸.


### ë‘ë²ˆì§¸ ë°©ì‹ : ë¡œì»¬/CI ê¸°ë°˜ì˜ OWASP Dependency Check
- Gradle í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜ í›„, ì§ì ‘ ./gradlew dependencyCheckAnalyze ì‹¤í–‰
- ë¡œì»¬ì—ì„œ ë¹ ë¥´ê²Œ ì ê²€ ê°€ëŠ¥í•˜ê³ , CIì— ë¶™ì´ê¸°ë„ ì‰½ë‹¤.

```kotlin
// build.gradle.kts
plugins {
    ...ë‹¤ë¥¸ ì„¤ì •ë“¤ ìˆë‹¤ê³  ê°€ì •í•˜ê³ ...
    id("org.owasp.dependencycheck") version "8.4.0" // ğŸ¤ ì‚´í¬ì‹œ ì¶”ê°€ 
}

... ê·¸ì™¸ ì„¤ì • ìƒëµí•˜ê³  ...

dependencyCheck {
    failBuildOnCVSS = 7.0.toBigDecimal() // ì·¨ì•½ì  ê¸°ì¤€ì 
    suppressionFile = "dependency-check-suppress.xml"
    analyzers {
        assemblyEnabled = false
    }
}
```

### HTML + XML ë¦¬í¬íŠ¸ ìƒì„± í™•ì¸

`./gradlew dependencyCheckAnalyze` ì‹¤í–‰

> ì‹¤í–‰ í›„, build ê²°ê³¼ì— ë¦¬í¬íŠ¸ê°€ ìƒì„±ë˜ë‹ˆ í™•ì¸í•´ë³´ì.
```text
build/reports/dependency-check-report.html
build/reports/dependency-check-report.xml
```
ì—¥ ì´ê²Œ ë...? ë‘ë²ˆì§¸ ë°©ì‹ ì—­ì‹œ ë„ˆë¬´ ê°„ë‹¨í•´ì„œ ë†€ëê³ ... ëŒ€ê·œëª¨ ì¸í”„ë¼ì—ì„œëŠ” ì–´ë–»ê²Œ ì ìš©í• ì§€ ê¶ê¸ˆí–ˆë‹¤. 

### Cloude ê¸°ë°˜ ëŒ€ê·œëª¨ ì¸í”„ë¼ì—ì„œ ê³ ë ¤í•  ì 

ì´ëŸ´ë• GPT í™œìš©ì„ í•´ì¤˜ì•¼ í•œë‹¤. ( ë¬¼ë¡  ëª¨ë“  ìƒí™©ì—ì„œ, ë§ŒëŠ¥ì€ ì•„ë‹ˆì§€ë§Œ... )

| í•­ëª©                       | ì´ìœ  / ì„¤ëª…                                                             |
|--------------------------| ------------------------------------------------------------------- |
| **ì •ì  ë³´ê³ ì„œë§Œìœ¼ë¡œ ë¶€ì¡±**         | íŒ€ ë‹¨ìœ„, ë©€í‹° ì„œë¹„ìŠ¤ ìƒí™©ì—ì„  ê²°ê³¼ë¥¼ ê³µìœ í•˜ê³  ì§‘ê³„í•  ì¤‘ì•™í™”ëœ ë¦¬í¬íŒ… í•„ìš”                          |
| **ìŠ¤ìº” ì†ë„ / DB ìºì‹œ ìµœì í™” í•„ìš”** | ë„¤íŠ¸ì›Œí¬ê°€ ëŠë¦¬ê±°ë‚˜ ìŠ¤ìº”ì´ ë§ì•„ì§ˆ ê²½ìš°, NVD DB ìºì‹œë¥¼ CIì—ì„œ ê´€ë¦¬í•´ì•¼ í•  ìˆ˜ë„ ìˆìŒ                 |
| **false positive ì–µì œ**    | suppression íŒŒì¼(`dependency-check-suppress.xml`)ì„ ì ì  ì •êµí•˜ê²Œ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•´ì•¼ í•¨ |
| **ë³´ì•ˆ ì •ì±… ì—°ë™**             | ì·¨ì•½ì ì´ ë°œê²¬ëì„ ë•Œ Slack ì•Œë¦¼, JIRA ìƒì„±, S3ì— ì—…ë¡œë“œ ë“± ìë™í™” í•„ìš” ê°€ëŠ¥ì„±                 |
| **ë©€í‹°ëª¨ë“ˆ / ë©€í‹°ì„œë¹„ìŠ¤ ì§€ì›**      | ëª¨ë…¸ë ˆí¬ / ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ êµ¬ì¡°ì¼ ê²½ìš°, ê° ëª¨ë“ˆë³„ ë¦¬í¬íŠ¸ í†µí•© í•„ìš”                              |

> ë‚˜ì¤‘ì— í™•ì¸ ã„±ã„± ì¼ë‹¨ì€ í˜„ì¬ ì§„í–‰ì¤‘ì¸ í”„ë¡œì íŠ¸ëŠ” github actions ê¸°ë°˜ì´ë¼ 1ë²ˆì„ ì±„íƒí•˜ê¸°ë¡œ í•˜ì˜€ë‹¤.

---

## ì°¸ê³  ìë£Œ
- [OWASP Dependency-Check Gradle Plugin](https://owasp.org/www-project-dependency-check)
- [Keeping your dependencies updated automatically with Dependabot version updates](https://docs.github.com/en/code-security/dependabot/dependabot-version-updates)