
**Domain (핵심)**
- 알아야 할 것: 없음 (순수 도메인 로직만)
- 역할: 비즈니스 규칙, 엔티티, 이벤트 정의

**Application (서비스)**
- 알아야 할 것: Domain만
- 역할: 유스케이스 구현, 포트(인터페이스) 정의
- 주의 할 점: Infra나 API를 직접 의존하면 안됨

**API (컨트롤러)**
- 알아야 할 것: Application, Domain
- 역할: HTTP 요청/응답 처리, DTO 변환
- 주의할 점: Infra 직접 의존 금지

**Infra (어댑터)**
- 알아야 할 것: Application, Domain
- 역할: Application이 정의한 포트를 구현 (DB, 메시징 등)

```text
Domain ← Application ← API
↑
Infra
```

---

## 지켜야 할 원칙
- 의존성 역전: Infra는 Application의 포트를 구현
- 단방향 의존: 안쪽(Domain) → 바깥쪽으로만 의존
- 순수성 유지: Domain은 외부 기술에 의존하지 않음


## 현실적 타협선 (Spring Boot 멀티모듈)


### 최소 타협 (이상적)
- Domain: 순수 (외부 의존 X)
- Application: Domain만
- Infra: Application만 (Domain 변환은 Application에서)
- API: Application + Infra 설정만

### 실무 타협
- Domain: 순수
- Application: Domain만  
- Infra: Domain + Application (변환 편의성)
- API: Application + Infra 설정 (Spring 실행 위해)

### 살기 위한 현실적 타협
- Domain: 순수
- Application: Domain만
- Infra: Domain + Application
- API: Domain + Application + Infra (일부)

### 구체적 가이드라인 (절대 지켜야 할 것)
- Domain은 외부 의존 없음
- Application은 Domain만 의존
- 비즈니스 로직에서 Infra 직접 호출 금지

## 타협 가능한 것
- Infra에서 Domain 객체 생성/변환
- API에서 Spring 설정을 위한 Infra 참조
- 공통 DTO는 여러 레이어에서 공유

## 위험한 타협
- Controller에서 Repository 직접 호출
- Domain에 JPA 어노테이션 추가
- Application에서 구체적인 Infra 클래스 의존

> 도메인 로직이 기술 구현체와 분리되어 테스트하기 쉽고 변경에 유연한 구조가 된다.